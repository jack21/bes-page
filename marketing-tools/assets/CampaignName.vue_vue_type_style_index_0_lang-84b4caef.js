import{b as Y,e as te,f as W,j as Ct,l as xt,d as we,u as be,r as K,c as Te,g as u,w as _,k as oe,$ as St,O as it,a as Tt,t as q,m as R,F as Je,n as Ke,p as kt,i as $e,_ as It,q as Lt,s as Et,v as Ot,x as $t,y as ke,T as Ye,z as me,h as Me,A as Mt,B as Ze,R as ot,D as lt,M as ut,L as dt,E as ct,N as mt,C as ft,G as Dt,S as ht,H as pt,o as Ft,I as Nt}from"./index-b677b16f.js";const Pt={class:"icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Ut=W("path",{fill:"currentColor",d:"M5 20h14v-2H5m14-9h-4V3H9v6H5l7 7l7-7Z"},null,-1),Rt=[Ut];function Wt(a,e){return Y(),te("svg",Pt,Rt)}const et={name:"mdi-download",render:Wt};function qe(a){"@babel/helpers - typeof";return qe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qe(a)}function Ue(a){if(a===null||a===!0||a===!1)return NaN;var e=Number(a);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function ce(a,e){if(e.length<a)throw new TypeError(a+" argument"+(a>1?"s":"")+" required, but only "+e.length+" present")}function Ce(a){ce(1,arguments);var e=Object.prototype.toString.call(a);return a instanceof Date||qe(a)==="object"&&e==="[object Date]"?new Date(a.getTime()):typeof a=="number"||e==="[object Number]"?new Date(a):((typeof a=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Gt(a,e){ce(2,arguments);var t=Ce(a).getTime(),n=Ue(e);return new Date(t+n)}var Bt={};function je(){return Bt}function At(a){var e=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));return e.setUTCFullYear(a.getFullYear()),a.getTime()-e.getTime()}function Yt(a){return ce(1,arguments),a instanceof Date||qe(a)==="object"&&Object.prototype.toString.call(a)==="[object Date]"}function zt(a){if(ce(1,arguments),!Yt(a)&&typeof a!="number")return!1;var e=Ce(a);return!isNaN(Number(e))}function qt(a,e){ce(2,arguments);var t=Ue(e);return Gt(a,-t)}var Vt=864e5;function Ht(a){ce(1,arguments);var e=Ce(a),t=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var n=e.getTime(),r=t-n;return Math.floor(r/Vt)+1}function Ve(a){ce(1,arguments);var e=1,t=Ce(a),n=t.getUTCDay(),r=(n<e?7:0)+n-e;return t.setUTCDate(t.getUTCDate()-r),t.setUTCHours(0,0,0,0),t}function _t(a){ce(1,arguments);var e=Ce(a),t=e.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(t+1,0,4),n.setUTCHours(0,0,0,0);var r=Ve(n),o=new Date(0);o.setUTCFullYear(t,0,4),o.setUTCHours(0,0,0,0);var d=Ve(o);return e.getTime()>=r.getTime()?t+1:e.getTime()>=d.getTime()?t:t-1}function jt(a){ce(1,arguments);var e=_t(a),t=new Date(0);t.setUTCFullYear(e,0,4),t.setUTCHours(0,0,0,0);var n=Ve(t);return n}var Qt=6048e5;function Xt(a){ce(1,arguments);var e=Ce(a),t=Ve(e).getTime()-jt(e).getTime();return Math.round(t/Qt)+1}function He(a,e){var t,n,r,o,d,p,l,h;ce(1,arguments);var f=je(),g=Ue((t=(n=(r=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(d=e.locale)===null||d===void 0||(p=d.options)===null||p===void 0?void 0:p.weekStartsOn)!==null&&r!==void 0?r:f.weekStartsOn)!==null&&n!==void 0?n:(l=f.locale)===null||l===void 0||(h=l.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&t!==void 0?t:0);if(!(g>=0&&g<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var w=Ce(a),T=w.getUTCDay(),k=(T<g?7:0)+T-g;return w.setUTCDate(w.getUTCDate()-k),w.setUTCHours(0,0,0,0),w}function gt(a,e){var t,n,r,o,d,p,l,h;ce(1,arguments);var f=Ce(a),g=f.getUTCFullYear(),w=je(),T=Ue((t=(n=(r=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(d=e.locale)===null||d===void 0||(p=d.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&r!==void 0?r:w.firstWeekContainsDate)!==null&&n!==void 0?n:(l=w.locale)===null||l===void 0||(h=l.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&t!==void 0?t:1);if(!(T>=1&&T<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var k=new Date(0);k.setUTCFullYear(g+1,0,T),k.setUTCHours(0,0,0,0);var C=He(k,e),P=new Date(0);P.setUTCFullYear(g,0,T),P.setUTCHours(0,0,0,0);var v=He(P,e);return f.getTime()>=C.getTime()?g+1:f.getTime()>=v.getTime()?g:g-1}function Jt(a,e){var t,n,r,o,d,p,l,h;ce(1,arguments);var f=je(),g=Ue((t=(n=(r=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(d=e.locale)===null||d===void 0||(p=d.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&r!==void 0?r:f.firstWeekContainsDate)!==null&&n!==void 0?n:(l=f.locale)===null||l===void 0||(h=l.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&t!==void 0?t:1),w=gt(a,e),T=new Date(0);T.setUTCFullYear(w,0,g),T.setUTCHours(0,0,0,0);var k=He(T,e);return k}var Kt=6048e5;function Zt(a,e){ce(1,arguments);var t=Ce(a),n=He(t,e).getTime()-Jt(t,e).getTime();return Math.round(n/Kt)+1}function A(a,e){for(var t=a<0?"-":"",n=Math.abs(a).toString();n.length<e;)n="0"+n;return t+n}var en={y:function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return A(t==="yy"?r%100:r,t.length)},M:function(e,t){var n=e.getUTCMonth();return t==="M"?String(n+1):A(n+1,2)},d:function(e,t){return A(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(e,t){return A(e.getUTCHours()%12||12,t.length)},H:function(e,t){return A(e.getUTCHours(),t.length)},m:function(e,t){return A(e.getUTCMinutes(),t.length)},s:function(e,t){return A(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,r=e.getUTCMilliseconds(),o=Math.floor(r*Math.pow(10,n-3));return A(o,t.length)}};const Oe=en;var We={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},tn={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){var r=e.getUTCFullYear(),o=r>0?r:1-r;return n.ordinalNumber(o,{unit:"year"})}return Oe.y(e,t)},Y:function(e,t,n,r){var o=gt(e,r),d=o>0?o:1-o;if(t==="YY"){var p=d%100;return A(p,2)}return t==="Yo"?n.ordinalNumber(d,{unit:"year"}):A(d,t.length)},R:function(e,t){var n=_t(e);return A(n,t.length)},u:function(e,t){var n=e.getUTCFullYear();return A(n,t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return A(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return A(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return Oe.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return A(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var o=Zt(e,r);return t==="wo"?n.ordinalNumber(o,{unit:"week"}):A(o,t.length)},I:function(e,t,n){var r=Xt(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):A(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):Oe.d(e,t)},D:function(e,t,n){var r=Ht(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):A(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var o=e.getUTCDay(),d=(o-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(d);case"ee":return A(d,2);case"eo":return n.ordinalNumber(d,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var o=e.getUTCDay(),d=(o-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(d);case"cc":return A(d,t.length);case"co":return n.ordinalNumber(d,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),o=r===0?7:r;switch(t){case"i":return String(o);case"ii":return A(o,t.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours(),o=r/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r=e.getUTCHours(),o;switch(r===12?o=We.noon:r===0?o=We.midnight:o=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r=e.getUTCHours(),o;switch(r>=17?o=We.evening:r>=12?o=We.afternoon:r>=4?o=We.morning:o=We.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){var r=e.getUTCHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Oe.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Oe.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):A(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):A(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Oe.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Oe.s(e,t)},S:function(e,t){return Oe.S(e,t)},X:function(e,t,n,r){var o=r._originalDate||e,d=o.getTimezoneOffset();if(d===0)return"Z";switch(t){case"X":return rt(d);case"XXXX":case"XX":return Ne(d);case"XXXXX":case"XXX":default:return Ne(d,":")}},x:function(e,t,n,r){var o=r._originalDate||e,d=o.getTimezoneOffset();switch(t){case"x":return rt(d);case"xxxx":case"xx":return Ne(d);case"xxxxx":case"xxx":default:return Ne(d,":")}},O:function(e,t,n,r){var o=r._originalDate||e,d=o.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+nt(d,":");case"OOOO":default:return"GMT"+Ne(d,":")}},z:function(e,t,n,r){var o=r._originalDate||e,d=o.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+nt(d,":");case"zzzz":default:return"GMT"+Ne(d,":")}},t:function(e,t,n,r){var o=r._originalDate||e,d=Math.floor(o.getTime()/1e3);return A(d,t.length)},T:function(e,t,n,r){var o=r._originalDate||e,d=o.getTime();return A(d,t.length)}};function nt(a,e){var t=a>0?"-":"+",n=Math.abs(a),r=Math.floor(n/60),o=n%60;if(o===0)return t+String(r);var d=e||"";return t+String(r)+d+A(o,2)}function rt(a,e){if(a%60===0){var t=a>0?"-":"+";return t+A(Math.abs(a)/60,2)}return Ne(a,e)}function Ne(a,e){var t=e||"",n=a>0?"-":"+",r=Math.abs(a),o=A(Math.floor(r/60),2),d=A(r%60,2);return n+o+t+d}const nn=tn;var at=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},vt=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},rn=function(e,t){var n=e.match(/(P+)(p+)?/)||[],r=n[1],o=n[2];if(!o)return at(e,t);var d;switch(r){case"P":d=t.dateTime({width:"short"});break;case"PP":d=t.dateTime({width:"medium"});break;case"PPP":d=t.dateTime({width:"long"});break;case"PPPP":default:d=t.dateTime({width:"full"});break}return d.replace("{{date}}",at(r,t)).replace("{{time}}",vt(o,t))},an={p:vt,P:rn};const sn=an;var on=["D","DD"],ln=["YY","YYYY"];function un(a){return on.indexOf(a)!==-1}function dn(a){return ln.indexOf(a)!==-1}function st(a,e,t){if(a==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(a==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(a==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(a==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(t,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var cn={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},mn=function(e,t,n){var r,o=cn[e];return typeof o=="string"?r=o:t===1?r=o.one:r=o.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};const fn=mn;function Xe(a){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.width?String(e.width):a.defaultWidth,n=a.formats[t]||a.formats[a.defaultWidth];return n}}var hn={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},pn={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},_n={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},gn={date:Xe({formats:hn,defaultWidth:"full"}),time:Xe({formats:pn,defaultWidth:"full"}),dateTime:Xe({formats:_n,defaultWidth:"full"})};const vn=gn;var wn={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},bn=function(e,t,n,r){return wn[e]};const yn=bn;function Ge(a){return function(e,t){var n=t!=null&&t.context?String(t.context):"standalone",r;if(n==="formatting"&&a.formattingValues){var o=a.defaultFormattingWidth||a.defaultWidth,d=t!=null&&t.width?String(t.width):o;r=a.formattingValues[d]||a.formattingValues[o]}else{var p=a.defaultWidth,l=t!=null&&t.width?String(t.width):a.defaultWidth;r=a.values[l]||a.values[p]}var h=a.argumentCallback?a.argumentCallback(e):e;return r[h]}}var Cn={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},xn={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Sn={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Tn={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},kn={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},In={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ln=function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},En={ordinalNumber:Ln,era:Ge({values:Cn,defaultWidth:"wide"}),quarter:Ge({values:xn,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Ge({values:Sn,defaultWidth:"wide"}),day:Ge({values:Tn,defaultWidth:"wide"}),dayPeriod:Ge({values:kn,defaultWidth:"wide",formattingValues:In,defaultFormattingWidth:"wide"})};const On=En;function Be(a){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.width,r=n&&a.matchPatterns[n]||a.matchPatterns[a.defaultMatchWidth],o=e.match(r);if(!o)return null;var d=o[0],p=n&&a.parsePatterns[n]||a.parsePatterns[a.defaultParseWidth],l=Array.isArray(p)?Mn(p,function(g){return g.test(d)}):$n(p,function(g){return g.test(d)}),h;h=a.valueCallback?a.valueCallback(l):l,h=t.valueCallback?t.valueCallback(h):h;var f=e.slice(d.length);return{value:h,rest:f}}}function $n(a,e){for(var t in a)if(a.hasOwnProperty(t)&&e(a[t]))return t}function Mn(a,e){for(var t=0;t<a.length;t++)if(e(a[t]))return t}function Dn(a){return function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.match(a.matchPattern);if(!n)return null;var r=n[0],o=e.match(a.parsePattern);if(!o)return null;var d=a.valueCallback?a.valueCallback(o[0]):o[0];d=t.valueCallback?t.valueCallback(d):d;var p=e.slice(r.length);return{value:d,rest:p}}}var Fn=/^(\d+)(th|st|nd|rd)?/i,Nn=/\d+/i,Pn={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Un={any:[/^b/i,/^(a|c)/i]},Rn={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Wn={any:[/1/i,/2/i,/3/i,/4/i]},Gn={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Bn={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},An={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Yn={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},zn={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},qn={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Vn={ordinalNumber:Dn({matchPattern:Fn,parsePattern:Nn,valueCallback:function(e){return parseInt(e,10)}}),era:Be({matchPatterns:Pn,defaultMatchWidth:"wide",parsePatterns:Un,defaultParseWidth:"any"}),quarter:Be({matchPatterns:Rn,defaultMatchWidth:"wide",parsePatterns:Wn,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Be({matchPatterns:Gn,defaultMatchWidth:"wide",parsePatterns:Bn,defaultParseWidth:"any"}),day:Be({matchPatterns:An,defaultMatchWidth:"wide",parsePatterns:Yn,defaultParseWidth:"any"}),dayPeriod:Be({matchPatterns:zn,defaultMatchWidth:"any",parsePatterns:qn,defaultParseWidth:"any"})};const Hn=Vn;var jn={code:"en-US",formatDistance:fn,formatLong:vn,formatRelative:yn,localize:On,match:Hn,options:{weekStartsOn:0,firstWeekContainsDate:1}};const Qn=jn;var Xn=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Jn=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Kn=/^'([^]*?)'?$/,Zn=/''/g,er=/[a-zA-Z]/;function Ae(a,e,t){var n,r,o,d,p,l,h,f,g,w,T,k,C,P,v,I,L,N;ce(2,arguments);var D=String(e),E=je(),c=(n=(r=t==null?void 0:t.locale)!==null&&r!==void 0?r:E.locale)!==null&&n!==void 0?n:Qn,s=Ue((o=(d=(p=(l=t==null?void 0:t.firstWeekContainsDate)!==null&&l!==void 0?l:t==null||(h=t.locale)===null||h===void 0||(f=h.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&p!==void 0?p:E.firstWeekContainsDate)!==null&&d!==void 0?d:(g=E.locale)===null||g===void 0||(w=g.options)===null||w===void 0?void 0:w.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(s>=1&&s<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var i=Ue((T=(k=(C=(P=t==null?void 0:t.weekStartsOn)!==null&&P!==void 0?P:t==null||(v=t.locale)===null||v===void 0||(I=v.options)===null||I===void 0?void 0:I.weekStartsOn)!==null&&C!==void 0?C:E.weekStartsOn)!==null&&k!==void 0?k:(L=E.locale)===null||L===void 0||(N=L.options)===null||N===void 0?void 0:N.weekStartsOn)!==null&&T!==void 0?T:0);if(!(i>=0&&i<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!c.localize)throw new RangeError("locale must contain localize property");if(!c.formatLong)throw new RangeError("locale must contain formatLong property");var m=Ce(a);if(!zt(m))throw new RangeError("Invalid time value");var y=At(m),x=qt(m,y),$={firstWeekContainsDate:s,weekStartsOn:i,locale:c,_originalDate:m},U=D.match(Jn).map(function(G){var F=G[0];if(F==="p"||F==="P"){var b=sn[F];return b(G,c.formatLong)}return G}).join("").match(Xn).map(function(G){if(G==="''")return"'";var F=G[0];if(F==="'")return tr(G);var b=nn[F];if(b)return!(t!=null&&t.useAdditionalWeekYearTokens)&&dn(G)&&st(G,e,String(a)),!(t!=null&&t.useAdditionalDayOfYearTokens)&&un(G)&&st(G,e,String(a)),b(x,G,c.localize,$);if(F.match(er))throw new RangeError("Format string contains an unescaped latin alphabet character `"+F+"`");return G}).join("");return U}function tr(a){var e=a.match(Kn);return e?e[1].replace(Zn,"'"):a}var wt={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(a,e){(function(t,n){a.exports=n()})(Ct,function t(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},r=!n.document&&!!n.postMessage,o=n.IS_PAPA_WORKER||!1,d={},p=0,l={parse:function(s,i){var m=(i=i||{}).dynamicTyping||!1;if(c(m)&&(i.dynamicTypingFunction=m,m={}),i.dynamicTyping=m,i.transform=!!c(i.transform)&&i.transform,i.worker&&l.WORKERS_SUPPORTED){var y=function(){if(!l.WORKERS_SUPPORTED)return!1;var $=(G=n.URL||n.webkitURL||null,F=t.toString(),l.BLOB_URL||(l.BLOB_URL=G.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",F,")();"],{type:"text/javascript"})))),U=new n.Worker($),G,F;return U.onmessage=I,U.id=p++,d[U.id]=U}();return y.userStep=i.step,y.userChunk=i.chunk,y.userComplete=i.complete,y.userError=i.error,i.step=c(i.step),i.chunk=c(i.chunk),i.complete=c(i.complete),i.error=c(i.error),delete i.worker,void y.postMessage({input:s,config:i,workerId:y.id})}var x=null;return l.NODE_STREAM_INPUT,typeof s=="string"?(s=function($){return $.charCodeAt(0)===65279?$.slice(1):$}(s),x=i.download?new g(i):new T(i)):s.readable===!0&&c(s.read)&&c(s.on)?x=new k(i):(n.File&&s instanceof File||s instanceof Object)&&(x=new w(i)),x.stream(s)},unparse:function(s,i){var m=!1,y=!0,x=",",$=`\r
`,U='"',G=U+U,F=!1,b=null,Z=!1;(function(){if(typeof i=="object"){if(typeof i.delimiter!="string"||l.BAD_DELIMITERS.filter(function(S){return i.delimiter.indexOf(S)!==-1}).length||(x=i.delimiter),(typeof i.quotes=="boolean"||typeof i.quotes=="function"||Array.isArray(i.quotes))&&(m=i.quotes),typeof i.skipEmptyLines!="boolean"&&typeof i.skipEmptyLines!="string"||(F=i.skipEmptyLines),typeof i.newline=="string"&&($=i.newline),typeof i.quoteChar=="string"&&(U=i.quoteChar),typeof i.header=="boolean"&&(y=i.header),Array.isArray(i.columns)){if(i.columns.length===0)throw new Error("Option columns is empty");b=i.columns}i.escapeChar!==void 0&&(G=i.escapeChar+U),(typeof i.escapeFormulae=="boolean"||i.escapeFormulae instanceof RegExp)&&(Z=i.escapeFormulae instanceof RegExp?i.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var M=new RegExp(P(U),"g");if(typeof s=="string"&&(s=JSON.parse(s)),Array.isArray(s)){if(!s.length||Array.isArray(s[0]))return ge(null,s,F);if(typeof s[0]=="object")return ge(b||Object.keys(s[0]),s,F)}else if(typeof s=="object")return typeof s.data=="string"&&(s.data=JSON.parse(s.data)),Array.isArray(s.data)&&(s.fields||(s.fields=s.meta&&s.meta.fields||b),s.fields||(s.fields=Array.isArray(s.data[0])?s.fields:typeof s.data[0]=="object"?Object.keys(s.data[0]):[]),Array.isArray(s.data[0])||typeof s.data[0]=="object"||(s.data=[s.data])),ge(s.fields||[],s.data||[],F);throw new Error("Unable to serialize unrecognized input");function ge(S,j,ue){var J="";typeof S=="string"&&(S=JSON.parse(S)),typeof j=="string"&&(j=JSON.parse(j));var ie=Array.isArray(S)&&0<S.length,ae=!Array.isArray(j[0]);if(ie&&y){for(var se=0;se<S.length;se++)0<se&&(J+=x),J+=le(S[se],se);0<j.length&&(J+=$)}for(var O=0;O<j.length;O++){var B=ie?S.length:j[O].length,Q=!1,re=ie?Object.keys(j[O]).length===0:j[O].length===0;if(ue&&!ie&&(Q=ue==="greedy"?j[O].join("").trim()==="":j[O].length===1&&j[O][0].length===0),ue==="greedy"&&ie){for(var V=[],de=0;de<B;de++){var ee=ae?S[de]:de;V.push(j[O][ee])}Q=V.join("").trim()===""}if(!Q){for(var H=0;H<B;H++){0<H&&!re&&(J+=x);var ve=ie&&ae?S[H]:H;J+=le(j[O][ve],H)}O<j.length-1&&(!ue||0<B&&!re)&&(J+=$)}}return J}function le(S,j){if(S==null)return"";if(S.constructor===Date)return JSON.stringify(S).slice(1,25);var ue=!1;Z&&typeof S=="string"&&Z.test(S)&&(S="'"+S,ue=!0);var J=S.toString().replace(M,G);return(ue=ue||m===!0||typeof m=="function"&&m(S,j)||Array.isArray(m)&&m[j]||function(ie,ae){for(var se=0;se<ae.length;se++)if(-1<ie.indexOf(ae[se]))return!0;return!1}(J,l.BAD_DELIMITERS)||-1<J.indexOf(x)||J.charAt(0)===" "||J.charAt(J.length-1)===" ")?U+J+U:J}}};if(l.RECORD_SEP=String.fromCharCode(30),l.UNIT_SEP=String.fromCharCode(31),l.BYTE_ORDER_MARK="\uFEFF",l.BAD_DELIMITERS=["\r",`
`,'"',l.BYTE_ORDER_MARK],l.WORKERS_SUPPORTED=!r&&!!n.Worker,l.NODE_STREAM_INPUT=1,l.LocalChunkSize=10485760,l.RemoteChunkSize=5242880,l.DefaultDelimiter=",",l.Parser=v,l.ParserHandle=C,l.NetworkStreamer=g,l.FileStreamer=w,l.StringStreamer=T,l.ReadableStreamStreamer=k,n.jQuery){var h=n.jQuery;h.fn.parse=function(s){var i=s.config||{},m=[];return this.each(function($){if(!(h(this).prop("tagName").toUpperCase()==="INPUT"&&h(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var U=0;U<this.files.length;U++)m.push({file:this.files[U],inputElem:this,instanceConfig:h.extend({},i)})}),y(),this;function y(){if(m.length!==0){var $,U,G,F,b=m[0];if(c(s.before)){var Z=s.before(b.file,b.inputElem);if(typeof Z=="object"){if(Z.action==="abort")return $="AbortError",U=b.file,G=b.inputElem,F=Z.reason,void(c(s.error)&&s.error({name:$},U,G,F));if(Z.action==="skip")return void x();typeof Z.config=="object"&&(b.instanceConfig=h.extend(b.instanceConfig,Z.config))}else if(Z==="skip")return void x()}var M=b.instanceConfig.complete;b.instanceConfig.complete=function(ge){c(M)&&M(ge,b.file,b.inputElem),x()},l.parse(b.file,b.instanceConfig)}else c(s.complete)&&s.complete()}function x(){m.splice(0,1),y()}}}function f(s){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(i){var m=D(i);m.chunkSize=parseInt(m.chunkSize),i.step||i.chunk||(m.chunkSize=null),this._handle=new C(m),(this._handle.streamer=this)._config=m}).call(this,s),this.parseChunk=function(i,m){if(this.isFirstChunk&&c(this._config.beforeFirstChunk)){var y=this._config.beforeFirstChunk(i);y!==void 0&&(i=y)}this.isFirstChunk=!1,this._halted=!1;var x=this._partialLine+i;this._partialLine="";var $=this._handle.parse(x,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var U=$.meta.cursor;this._finished||(this._partialLine=x.substring(U-this._baseIndex),this._baseIndex=U),$&&$.data&&(this._rowCount+=$.data.length);var G=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(o)n.postMessage({results:$,workerId:l.WORKER_ID,finished:G});else if(c(this._config.chunk)&&!m){if(this._config.chunk($,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);$=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat($.data),this._completeResults.errors=this._completeResults.errors.concat($.errors),this._completeResults.meta=$.meta),this._completed||!G||!c(this._config.complete)||$&&$.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),G||$&&$.meta.paused||this._nextChunk(),$}this._halted=!0},this._sendError=function(i){c(this._config.error)?this._config.error(i):o&&this._config.error&&n.postMessage({workerId:l.WORKER_ID,error:i,finished:!1})}}function g(s){var i;(s=s||{}).chunkSize||(s.chunkSize=l.RemoteChunkSize),f.call(this,s),this._nextChunk=r?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(m){this._input=m,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(i=new XMLHttpRequest,this._config.withCredentials&&(i.withCredentials=this._config.withCredentials),r||(i.onload=E(this._chunkLoaded,this),i.onerror=E(this._chunkError,this)),i.open(this._config.downloadRequestBody?"POST":"GET",this._input,!r),this._config.downloadRequestHeaders){var m=this._config.downloadRequestHeaders;for(var y in m)i.setRequestHeader(y,m[y])}if(this._config.chunkSize){var x=this._start+this._config.chunkSize-1;i.setRequestHeader("Range","bytes="+this._start+"-"+x)}try{i.send(this._config.downloadRequestBody)}catch($){this._chunkError($.message)}r&&i.status===0&&this._chunkError()}},this._chunkLoaded=function(){i.readyState===4&&(i.status<200||400<=i.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:i.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(m){var y=m.getResponseHeader("Content-Range");return y===null?-1:parseInt(y.substring(y.lastIndexOf("/")+1))}(i),this.parseChunk(i.responseText)))},this._chunkError=function(m){var y=i.statusText||m;this._sendError(new Error(y))}}function w(s){var i,m;(s=s||{}).chunkSize||(s.chunkSize=l.LocalChunkSize),f.call(this,s);var y=typeof FileReader<"u";this.stream=function(x){this._input=x,m=x.slice||x.webkitSlice||x.mozSlice,y?((i=new FileReader).onload=E(this._chunkLoaded,this),i.onerror=E(this._chunkError,this)):i=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var x=this._input;if(this._config.chunkSize){var $=Math.min(this._start+this._config.chunkSize,this._input.size);x=m.call(x,this._start,$)}var U=i.readAsText(x,this._config.encoding);y||this._chunkLoaded({target:{result:U}})},this._chunkLoaded=function(x){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(x.target.result)},this._chunkError=function(){this._sendError(i.error)}}function T(s){var i;f.call(this,s=s||{}),this.stream=function(m){return i=m,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var m,y=this._config.chunkSize;return y?(m=i.substring(0,y),i=i.substring(y)):(m=i,i=""),this._finished=!i,this.parseChunk(m)}}}function k(s){f.call(this,s=s||{});var i=[],m=!0,y=!1;this.pause=function(){f.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){f.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(x){this._input=x,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){y&&i.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),i.length?this.parseChunk(i.shift()):m=!0},this._streamData=E(function(x){try{i.push(typeof x=="string"?x:x.toString(this._config.encoding)),m&&(m=!1,this._checkIsFinished(),this.parseChunk(i.shift()))}catch($){this._streamError($)}},this),this._streamError=E(function(x){this._streamCleanUp(),this._sendError(x)},this),this._streamEnd=E(function(){this._streamCleanUp(),y=!0,this._streamData("")},this),this._streamCleanUp=E(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function C(s){var i,m,y,x=Math.pow(2,53),$=-x,U=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,G=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,F=this,b=0,Z=0,M=!1,ge=!1,le=[],S={data:[],errors:[],meta:{}};if(c(s.step)){var j=s.step;s.step=function(O){if(S=O,ie())J();else{if(J(),S.data.length===0)return;b+=O.data.length,s.preview&&b>s.preview?m.abort():(S.data=S.data[0],j(S,F))}}}function ue(O){return s.skipEmptyLines==="greedy"?O.join("").trim()==="":O.length===1&&O[0].length===0}function J(){return S&&y&&(se("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+l.DefaultDelimiter+"'"),y=!1),s.skipEmptyLines&&(S.data=S.data.filter(function(O){return!ue(O)})),ie()&&function(){if(!S)return;function O(Q,re){c(s.transformHeader)&&(Q=s.transformHeader(Q,re)),le.push(Q)}if(Array.isArray(S.data[0])){for(var B=0;ie()&&B<S.data.length;B++)S.data[B].forEach(O);S.data.splice(0,1)}else S.data.forEach(O)}(),function(){if(!S||!s.header&&!s.dynamicTyping&&!s.transform)return S;function O(Q,re){var V,de=s.header?{}:[];for(V=0;V<Q.length;V++){var ee=V,H=Q[V];s.header&&(ee=V>=le.length?"__parsed_extra":le[V]),s.transform&&(H=s.transform(H,ee)),H=ae(ee,H),ee==="__parsed_extra"?(de[ee]=de[ee]||[],de[ee].push(H)):de[ee]=H}return s.header&&(V>le.length?se("FieldMismatch","TooManyFields","Too many fields: expected "+le.length+" fields but parsed "+V,Z+re):V<le.length&&se("FieldMismatch","TooFewFields","Too few fields: expected "+le.length+" fields but parsed "+V,Z+re)),de}var B=1;return!S.data.length||Array.isArray(S.data[0])?(S.data=S.data.map(O),B=S.data.length):S.data=O(S.data,0),s.header&&S.meta&&(S.meta.fields=le),Z+=B,S}()}function ie(){return s.header&&le.length===0}function ae(O,B){return Q=O,s.dynamicTypingFunction&&s.dynamicTyping[Q]===void 0&&(s.dynamicTyping[Q]=s.dynamicTypingFunction(Q)),(s.dynamicTyping[Q]||s.dynamicTyping)===!0?B==="true"||B==="TRUE"||B!=="false"&&B!=="FALSE"&&(function(re){if(U.test(re)){var V=parseFloat(re);if($<V&&V<x)return!0}return!1}(B)?parseFloat(B):G.test(B)?new Date(B):B===""?null:B):B;var Q}function se(O,B,Q,re){var V={type:O,code:B,message:Q};re!==void 0&&(V.row=re),S.errors.push(V)}this.parse=function(O,B,Q){var re=s.quoteChar||'"';if(s.newline||(s.newline=function(ee,H){ee=ee.substring(0,1048576);var ve=new RegExp(P(H)+"([^]*?)"+P(H),"gm"),fe=(ee=ee.replace(ve,"")).split("\r"),ye=ee.split(`
`),xe=1<ye.length&&ye[0].length<fe[0].length;if(fe.length===1||xe)return`
`;for(var he=0,X=0;X<fe.length;X++)fe[X][0]===`
`&&he++;return he>=fe.length/2?`\r
`:"\r"}(O,re)),y=!1,s.delimiter)c(s.delimiter)&&(s.delimiter=s.delimiter(O),S.meta.delimiter=s.delimiter);else{var V=function(ee,H,ve,fe,ye){var xe,he,X,ne;ye=ye||[",","	","|",";",l.RECORD_SEP,l.UNIT_SEP];for(var De=0;De<ye.length;De++){var z=ye[De],Re=0,Se=0,Fe=0;X=void 0;for(var Ie=new v({comments:fe,delimiter:z,newline:H,preview:10}).parse(ee),Le=0;Le<Ie.data.length;Le++)if(ve&&ue(Ie.data[Le]))Fe++;else{var Ee=Ie.data[Le].length;Se+=Ee,X!==void 0?0<Ee&&(Re+=Math.abs(Ee-X),X=Ee):X=Ee}0<Ie.data.length&&(Se/=Ie.data.length-Fe),(he===void 0||Re<=he)&&(ne===void 0||ne<Se)&&1.99<Se&&(he=Re,xe=z,ne=Se)}return{successful:!!(s.delimiter=xe),bestDelimiter:xe}}(O,s.newline,s.skipEmptyLines,s.comments,s.delimitersToGuess);V.successful?s.delimiter=V.bestDelimiter:(y=!0,s.delimiter=l.DefaultDelimiter),S.meta.delimiter=s.delimiter}var de=D(s);return s.preview&&s.header&&de.preview++,i=O,m=new v(de),S=m.parse(i,B,Q),J(),M?{meta:{paused:!0}}:S||{meta:{paused:!1}}},this.paused=function(){return M},this.pause=function(){M=!0,m.abort(),i=c(s.chunk)?"":i.substring(m.getCharIndex())},this.resume=function(){F.streamer._halted?(M=!1,F.streamer.parseChunk(i,!0)):setTimeout(F.resume,3)},this.aborted=function(){return ge},this.abort=function(){ge=!0,m.abort(),S.meta.aborted=!0,c(s.complete)&&s.complete(S),i=""}}function P(s){return s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function v(s){var i,m=(s=s||{}).delimiter,y=s.newline,x=s.comments,$=s.step,U=s.preview,G=s.fastMode,F=i=s.quoteChar===void 0||s.quoteChar===null?'"':s.quoteChar;if(s.escapeChar!==void 0&&(F=s.escapeChar),(typeof m!="string"||-1<l.BAD_DELIMITERS.indexOf(m))&&(m=","),x===m)throw new Error("Comment character same as delimiter");x===!0?x="#":(typeof x!="string"||-1<l.BAD_DELIMITERS.indexOf(x))&&(x=!1),y!==`
`&&y!=="\r"&&y!==`\r
`&&(y=`
`);var b=0,Z=!1;this.parse=function(M,ge,le){if(typeof M!="string")throw new Error("Input must be a string");var S=M.length,j=m.length,ue=y.length,J=x.length,ie=c($),ae=[],se=[],O=[],B=b=0;if(!M)return pe();if(s.header&&!ge){var Q=M.split(y)[0].split(m),re=[],V={},de=!1;for(var ee in Q){var H=Q[ee];c(s.transformHeader)&&(H=s.transformHeader(H,ee));var ve=H,fe=V[H]||0;for(0<fe&&(de=!0,ve=H+"_"+fe),V[H]=fe+1;re.includes(ve);)ve=ve+"_"+fe;re.push(ve)}if(de){var ye=M.split(y);ye[0]=re.join(m),M=ye.join(y)}}if(G||G!==!1&&M.indexOf(i)===-1){for(var xe=M.split(y),he=0;he<xe.length;he++){if(O=xe[he],b+=O.length,he!==xe.length-1)b+=y.length;else if(le)return pe();if(!x||O.substring(0,J)!==x){if(ie){if(ae=[],Fe(O.split(m)),ze(),Z)return pe()}else Fe(O.split(m));if(U&&U<=he)return ae=ae.slice(0,U),pe(!0)}}return pe()}for(var X=M.indexOf(m,b),ne=M.indexOf(y,b),De=new RegExp(P(F)+P(i),"g"),z=M.indexOf(i,b);;)if(M[b]!==i)if(x&&O.length===0&&M.substring(b,b+J)===x){if(ne===-1)return pe();b=ne+ue,ne=M.indexOf(y,b),X=M.indexOf(m,b)}else if(X!==-1&&(X<ne||ne===-1))O.push(M.substring(b,X)),b=X+j,X=M.indexOf(m,b);else{if(ne===-1)break;if(O.push(M.substring(b,ne)),Ee(ne+ue),ie&&(ze(),Z))return pe();if(U&&ae.length>=U)return pe(!0)}else for(z=b,b++;;){if((z=M.indexOf(i,z+1))===-1)return le||se.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ae.length,index:b}),Le();if(z===S-1)return Le(M.substring(b,z).replace(De,i));if(i!==F||M[z+1]!==F){if(i===F||z===0||M[z-1]!==F){X!==-1&&X<z+1&&(X=M.indexOf(m,z+1)),ne!==-1&&ne<z+1&&(ne=M.indexOf(y,z+1));var Re=Ie(ne===-1?X:Math.min(X,ne));if(M.substr(z+1+Re,j)===m){O.push(M.substring(b,z).replace(De,i)),M[b=z+1+Re+j]!==i&&(z=M.indexOf(i,b)),X=M.indexOf(m,b),ne=M.indexOf(y,b);break}var Se=Ie(ne);if(M.substring(z+1+Se,z+1+Se+ue)===y){if(O.push(M.substring(b,z).replace(De,i)),Ee(z+1+Se+ue),X=M.indexOf(m,b),z=M.indexOf(i,b),ie&&(ze(),Z))return pe();if(U&&ae.length>=U)return pe(!0);break}se.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ae.length,index:b}),z++}}else z++}return Le();function Fe(_e){ae.push(_e),B=b}function Ie(_e){var tt=0;if(_e!==-1){var Qe=M.substring(z+1,_e);Qe&&Qe.trim()===""&&(tt=Qe.length)}return tt}function Le(_e){return le||(_e===void 0&&(_e=M.substring(b)),O.push(_e),b=S,Fe(O),ie&&ze()),pe()}function Ee(_e){b=_e,Fe(O),O=[],ne=M.indexOf(y,b)}function pe(_e){return{data:ae,errors:se,meta:{delimiter:m,linebreak:y,aborted:Z,truncated:!!_e,cursor:B+(ge||0)}}}function ze(){$(pe()),ae=[],se=[]}},this.abort=function(){Z=!0},this.getCharIndex=function(){return b}}function I(s){var i=s.data,m=d[i.workerId],y=!1;if(i.error)m.userError(i.error,i.file);else if(i.results&&i.results.data){var x={abort:function(){y=!0,L(i.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:N,resume:N};if(c(m.userStep)){for(var $=0;$<i.results.data.length&&(m.userStep({data:i.results.data[$],errors:i.results.errors,meta:i.results.meta},x),!y);$++);delete i.results}else c(m.userChunk)&&(m.userChunk(i.results,x,i.file),delete i.results)}i.finished&&!y&&L(i.workerId,i.results)}function L(s,i){var m=d[s];c(m.userComplete)&&m.userComplete(i),m.terminate(),delete d[s]}function N(){throw new Error("Not implemented.")}function D(s){if(typeof s!="object"||s===null)return s;var i=Array.isArray(s)?[]:{};for(var m in s)i[m]=D(s[m]);return i}function E(s,i){return function(){s.apply(i,arguments)}}function c(s){return typeof s=="function"}return o&&(n.onmessage=function(s){var i=s.data;if(l.WORKER_ID===void 0&&i&&(l.WORKER_ID=i.workerId),typeof i.input=="string")n.postMessage({workerId:l.WORKER_ID,results:l.parse(i.input,i.config),finished:!0});else if(n.File&&i.input instanceof File||i.input instanceof Object){var m=l.parse(i.input,i.config);m&&n.postMessage({workerId:l.WORKER_ID,results:m,finished:!0})}}),(g.prototype=Object.create(f.prototype)).constructor=g,(w.prototype=Object.create(f.prototype)).constructor=w,(T.prototype=Object.create(T.prototype)).constructor=T,(k.prototype=Object.create(f.prototype)).constructor=k,l})})(wt);var nr=wt.exports;const Pe=xt(nr),rr={class:"export-sms-file"},ar=W("span",null,"門號 (商務簡訊)",-1),sr=we({__name:"ExportSmsFile",props:{disabled:{type:Boolean}},setup(a){const e=a,t=be(),n=K(!1),r=K([]),o=Te(()=>{if(t.userArgs.length!==0)return t.userArgs.map(h=>({text:h,value:h}))}),d=()=>{o.value&&o.value.length>0?n.value=!0:p()},p=()=>{const h=Ae(new Date,"yyyyMMdd"),f=t.smsGroupList;for(let g=0;g<f.length;g++){const w=f[g];console.log(`[ExportSmsFile] smsGroup: ${w.name}: ${w.smsSendInfoList.length}`);for(let T=0;T<w.smsSendInfoList.length;T++){const k=w.smsSendInfoList[T],C=l(k);console.log(`[ExportSmsFile] smsGroup: ${w.name}: [${T+1}] ${C.length}`);const P=t.partition(C,4e4);for(let v=0;v<P.length;v++){const I=P[v],L=Pe.unparse(I,{delimiter:"	"}),N=w.smsSendInfoList.length===1?"":`_${T+1}`,D=P.length===1?"":`_${v+1}`,E=`${t.campaignName}_商務簡訊_${h}_${g+1}${N}${D}_${w.name}_${I.length}.txt`;console.log(`[ExportSmsFile] file: ${E}`),t.downloadFile(L,E)}}}},l=h=>{const f=[],g=h.phoneNumberList;for(let w=0;w<g.length;w++){const T=g[w],k=t.phoneNumberUserMap.get(T);if(!k)continue;const C=[T];r.value.forEach(P=>{k.params&&C.push(k.params[P])}),f.push(C)}return f};return(h,f)=>{const g=et,w=oe,T=St,k=it;return Y(),te("div",rr,[u(w,{variant:"outline-primary",size:"sm",onClick:d,disabled:e.disabled},{default:_(()=>[u(g),ar]),_:1},8,["disabled"]),u(k,{modelValue:n.value,"onUpdate:modelValue":f[1]||(f[1]=C=>n.value=C),"ok-title":"匯出","cancel-title":"取消","cancel-variant":"outline-secondary",onOk:p,title:"參數"},{default:_(()=>[u(T,{modelValue:r.value,"onUpdate:modelValue":f[0]||(f[0]=C=>r.value=C),options:o.value,stacked:""},null,8,["modelValue","options"])]),_:1},8,["modelValue"])])}}}),ir={class:"export-sms-file"},or=W("span",null,"門號 (客服)",-1),lr=we({__name:"ExportCustomServiceFile",props:{disabled:{type:Boolean}},setup(a){const e=a,t=be(),n=()=>{const r=Ae(new Date,"yyyyMMdd"),o=t.smsGroupList.filter(f=>f.smsPhoneNumberFilted.length>0),d=[];let p=0,l=0;for(let f=0;f<o.length;f++){const g=o[f];for(let w=0;w<g.smsSendInfoList.length;w++){l++;const T=g.smsSendInfoList[w],k=`用戶分群: ${g.name}\r
簡訊內容: ${T.text}\r
發送數量: ${T.phoneNumberList.length}\r
`,C=`${t.campaignName}_客服_${r}_${l}_發送資訊.txt`;d.push({fileName:C,data:k});const P=[];T.phoneNumberList.forEach(I=>P.push([I])),p+=T.phoneNumberList.length;const v=t.partition(P,5e4);for(let I=0;I<v.length;I++){const L=v[I],N=Pe.unparse(L),D=v.length===1?"":`_${I+1}`,E=`${t.campaignName}_客服_${r}_${l}_門號${D}_${L.length}.txt`;d.push({fileName:E,data:N})}}}const h=`${t.campaignName}_客服_${r}_${l}群_${p}人.zip`;t.downloadZip(h,d)};return(r,o)=>{const d=et,p=oe;return Y(),te("div",ir,[u(p,{variant:"outline-primary",size:"sm",class:"mt-1",onClick:n,disabled:e.disabled},{default:_(()=>[u(d),or]),_:1},8,["disabled"])])}}}),ur={key:0,class:"sms-send"},dr=W("h6",{class:"title"},"分群測試",-1),cr={class:"section"},mr=W("h6",{class:"title"},"簡訊內容",-1),fr={class:"sms-item section"},hr={class:"sms-header"},pr=["for"],_r={class:"count"},gr={class:"sms-footer"},vr=we({__name:"SmsSend",props:{smsGroup:{}},setup(a){const e=a,t=Tt(),n=be(),r=K(!1),o=K(1),d=K(["","",""]),p=k=>{const C=e.smsGroup.smsPhoneNumberFilted;if(C.length===0)return[];const P=Math.ceil(C.length/o.value);return n.partition(C,P)[k]},l=()=>{o.value=Math.max(e.smsGroup.smsSendInfoList.length,1),d.value.length=0,e.smsGroup.smsSendInfoList.forEach(k=>{d.value.push(k.text)}),r.value=!0},h=()=>{if(!e.smsGroup)return;const k=d.value.splice(0,o.value);n.fillSmsSendInfo(e.smsGroup,k),t.setSmsText(e.smsGroup.name,k)},f=k=>k?k.length:0,g=k=>{const C=f(d.value[k]);return C===0?null:C<=70},w=Te(()=>{for(let k=0;k<o.value;k++)if(g(k)!==!0)return!1;return!0}),T=k=>{n.sms(d.value[k],["0932087196"])};return(k,C)=>{const P=oe,v=It,I=Lt,L=Et,N=Ot,D=$t,E=it;return e.smsGroup?(Y(),te("div",ur,[u(P,{variant:"outline-primary",size:"sm",onClick:l,disabled:e.smsGroup.smsPhoneNumberFilted.length===0},{default:_(()=>[W("span",null,"編輯 ("+q(e.smsGroup.smsSendInfoList.length)+")",1)]),_:1},8,["disabled"]),u(E,{modelValue:r.value,"onUpdate:modelValue":C[1]||(C[1]=c=>r.value=c),"ok-title":"確定","cancel-title":"取消","cancel-variant":"outline-secondary",onOk:h,class:"sms-send-modal",okDisabled:!w.value},{default:_(()=>[W("section",null,[dr,W("div",cr,[u(I,{modelValue:o.value,"onUpdate:modelValue":C[0]||(C[0]=c=>o.value=c),name:"sms-test-group"},{default:_(()=>[u(v,{value:1},{default:_(()=>[R("不測試")]),_:1}),u(v,{value:2},{default:_(()=>[R("分兩群測試")]),_:1}),u(v,{value:3},{default:_(()=>[R("分三群測試")]),_:1})]),_:1},8,["modelValue"])])]),W("section",null,[mr,(Y(!0),te(Je,null,Ke(o.value,c=>(Y(),te("div",fr,[W("div",hr,[W("label",{for:`sms-text-${c}`},"簡訊 "+q(c),9,pr),W("span",_r,q(p(c-1).length)+" 人",1)]),u(L,{type:"text",size:"sm",id:`sms-text-${c}`,rows:"3",state:g(c-1),placeholder:"簡訊文案",modelValue:d.value[c-1],"onUpdate:modelValue":s=>d.value[c-1]=s},null,8,["id","state","modelValue","onUpdate:modelValue"]),W("div",gr,[u(D,{right:"",variant:"outline-primary",size:"sm",text:"測試"},{default:_(()=>[u(N,{onClick:s=>T(c-1)},{default:_(()=>[R("Jack")]),_:2},1032,["onClick"]),u(N,null,{default:_(()=>[R("測試群 (6)")]),_:1})]),_:2},1024),W("span",{class:kt(["sms-text",{warn:f(d.value[c-1])>70}])},q(f(d.value[c-1]))+" 個字 ",3)])]))),256))])]),_:1},8,["modelValue","okDisabled"])])):$e("",!0)}}});const wr={class:"icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},br=W("path",{fill:"currentColor",d:"m14 12l-4-4v3H2v2h8v3m10 2V6a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v3h2V6h12v12H6v-3H4v3a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2Z"},null,-1),yr=[br];function Cr(a,e){return Y(),te("svg",wr,yr)}const bt={name:"mdi-import",render:Cr},xr={class:"import-sms-file"},Sr=W("span",null,"TwmId (MFO)",-1),Tr=we({__name:"ImportTwmIdFile",setup(a){const e=be(),t=K([]),n=K(0),r=K(new Set);ke(t,()=>{!t||t.value.length===0||(n.value=0,r.value.clear(),e.smsGroupList.forEach(p=>{p.smsTwmIdList.length=0}),t.value.forEach(p=>o(p)))}),ke(n,()=>{n.value===t.value.length&&(e.smsGroupList.forEach(p=>{let l=0,h=0;p.twmIdList.forEach(f=>{r.value.has(f)?(p.smsTwmIdList.push(f),l++):h++}),console.log(`[ImportSmsFile] Group: ${p.name}, Exist: ${l}, NotExist: ${h}`)}),e.refreshFilted())});const o=p=>{const l=new FileReader;l.onload=function(h){var w;const f=(w=h.target)==null?void 0:w.result;(f==null?void 0:f.split(`\r
`)).forEach(T=>{r.value.add(T)}),console.log(`[ImportSmsFile] import ${r.value.size} TwmId`),n.value++},l.readAsText(p)},d=()=>{var p;(p=document.getElementById("import-twmid"))==null||p.click()};return(p,l)=>{const h=bt,f=oe,g=Ye;return Y(),te("div",xr,[u(f,{variant:"outline-primary",size:"sm",onClick:d},{default:_(()=>[u(h),Sr]),_:1}),u(g,{ref:"configFileRef",id:"import-twmid",modelValue:t.value,"onUpdate:modelValue":l[0]||(l[0]=w=>t.value=w),accept:"text/csv",multiple:""},null,8,["modelValue"])])}}});const kr={class:"d-flex flex-column justify-content-end"},Ir=W("br",null,null,-1),Lr=W("br",null,null,-1),Er=W("span",{class:"hint"},"(商務簡訊)",-1),Or={class:"text-nowrap"},$r={class:"d-flex flex-column"},Mr=W("span",null,"SubId (DSC)",-1),Dr=W("span",null,"TwmId (MFO)",-1),Fr={class:"d-flex flex-column"},Nr=W("span",null,"SubId (DSC)",-1),Pr=W("span",null,"TwmId (MFO)",-1),Ur=W("span",null,"TwmId (MFO)",-1),Rr=W("span",null,"名單總表",-1),da=we({__name:"SmsGroupList",setup(a){const e=be(),t=Te(()=>{if(!e.smsGroupList)return 0;console.time("[SmsGroupList] TotalSubIdCount");const v=new Set;for(let I=0;I<e.smsGroupList.length;I++){const N=e.smsGroupList[I].twmIdList;for(let D=0;D<N.length;D++){const E=N[D];v.add(E)}}return console.timeEnd("[SmsGroupList] TotalSubIdCount"),v.size}),n=Te(()=>{let v=0;return e.smsGroupList.forEach(I=>v+=I.smsTwmIdListFilted.length),v}),r=Te(()=>{let v=0;return e.smsGroupList.forEach(I=>v+=I.smsPhoneNumberFilted.length),v}),o=(v,I)=>{const L=v.smsReadyTwmIdList;if(I>=100)v.smsTwmIdList=L.slice(0);else{const N=new Set;v.smsTwmIdList.forEach(c=>N.add(c));const D=L.length*I/100,E=d(L).slice(0,D);E.forEach(c=>N.add(c)),v.smsTwmIdList=Array.from(N),console.log(`[GroupList] addSmsList: ${D}: ${E.length}`)}e.refreshFilted()},d=v=>{const I=v.slice(0);for(let L=I.length-1;L>0;L--){let N=Math.floor(Math.random()*(L+1));[I[L],I[N]]=[I[N],I[L]]}return I},p=v=>{const I=e.smsGroupList.findIndex(N=>N.name===v.name);I>=0&&e.smsGroupList.splice(I,1);const L=new Ze(v.name,v.twmIdList);e.groupList.push(L)},l=()=>{g(v=>v.twmIdList)},h=()=>{g(v=>v.smsTwmIdListFilted)},f=()=>{if(!e.smsGroupList)return;const v=[],I=new Set;for(let L=0;L<e.smsGroupList.length;L++){const D=e.smsGroupList[L].smsPhoneNumberFilted;for(let E=0;E<D.length;E++){const c=D[E],s=e.phoneNumberUserMap.get(c);if(!s)continue;const i=s.twmId;I.has(i)||(I.add(i),v.push([i]))}e.userInfoListTest.forEach(E=>{const c=E.twmId;I.has(c)||(I.add(c),v.push([c]))})}w(v)},g=v=>{if(!e.smsGroupList)return;const I=[],L=new Set;for(let N=0;N<e.smsGroupList.length;N++){const D=e.smsGroupList[N],E=v(D).slice(0);e.userInfoListTest.forEach(c=>E.push(c.twmId));for(let c=0;c<E.length;c++){const s=E[c];L.has(s)||(L.add(s),I.push([s]))}}w(I)},w=v=>{const I=Ae(new Date,"yyyyMMdd"),L=[],N=e.partition(v,2e4);for(let E=0;E<N.length;E++){const c=N[E],s=`${e.campaignName}_MFO_白名單_${I}_${N.length}-${E+1}_${c.length}.csv`,i=Pe.unparse(c);L.push({fileName:s,data:i})}const D=`${e.campaignName}_MFO_白名單_${I}_${N.length}_${v.length}.zip`;e.downloadZip(D,L)},T=()=>{C(v=>v.twmIdList)},k=()=>{C(v=>v.smsTwmIdListFilted)},C=v=>{if(!e.smsGroupList)return;const I=[],L=new Set;for(let D=0;D<e.smsGroupList.length;D++){const E=e.smsGroupList[D],c=v(E);for(let s=0;s<c.length;s++){const i=c[s],m=e.twmIdUserMap.get(i);!m||!m.subId||m.phoneNumber&&m.phoneNumber.length>0||L.has(m.subId)||(L.add(m.subId),I.push({SUBSCR_ID:m.subId}))}}console.log(`[SmsGroupList] export ${I.length} subId`);const N=e.partition(I,2e5);for(let D=0;D<N.length;D++){const E=N[D],c=Ae(new Date,"yyyyMMdd"),s=`${e.campaignName}_DSC_SubId_${c}_${N.length}-${D+1}_${E.length}.csv`,i=Pe.unparse(E);e.downloadFile(i,s)}},P=()=>{if(!e.smsGroupList)return;const v=[];for(let D=0;D<e.smsGroupList.length;D++){const E=e.smsGroupList[D],c=E.smsPhoneNumberFilted;for(let s=0;s<c.length;s++){const i=c[s],m=e.phoneNumberUserMap.get(i);m&&v.push({Sms:E.name,TwmId:m.twmId,SubId:m.subId,門號:m.phoneNumber})}}console.log(`[SmsGroupList] export ${v.length} All Sms CSV`);const I=Ae(new Date,"yyyyMMdd"),L=`${e.campaignName}_發送名單資訊_${I}_${v.length}.csv`,N=Pe.unparse(v);e.downloadFile(N,L)};return(v,I)=>{const L=ot,N=Tr,D=lt,E=ut,c=dt,s=vr,i=ct,m=et,y=lr,x=sr,$=mt,U=ft,G=Dt;return Y(),te("div",kr,[u(U,{hover:"",small:"",responsive:"",bordered:""},{default:_(()=>[u(E,{"head-variant":"dark"},{default:_(()=>[u(D,null,{default:_(()=>[u(L,{class:"text-center align-middle"},{default:_(()=>[R("刪除")]),_:1}),u(L,{class:"text-center align-middle"},{default:_(()=>[R("分群")]),_:1}),u(L,{class:"text-center align-middle"},{default:_(()=>[R("原數量")]),_:1}),u(L,{class:"text-center align-middle"},{default:_(()=>[R("已發送數")]),_:1}),u(L,{class:"text-center align-middle"},{default:_(()=>[R("可發送數")]),_:1}),u(L,{class:"text-center align-middle"},{default:_(()=>[R("發送")]),_:1}),u(L,{class:"text-center align-middle"},{default:_(()=>[R("欲發送數")]),_:1}),u(L,{class:"text-center align-middle"},{default:_(()=>[R(" 發送數"),Ir,u(N)]),_:1}),u(L,{class:"text-center align-middle"},{default:_(()=>[R("門號數"),Lr,Er]),_:1}),u(L,{class:"text-center align-middle"},{default:_(()=>[R("簡訊內容")]),_:1})]),_:1})]),_:1}),u(i,null,{default:_(()=>[(Y(!0),te(Je,null,Ke(me(e).smsGroupList,F=>(Y(),Me(D,{key:F.name},{default:_(()=>[u(c,{class:"text-center align-middle"},{default:_(()=>[u(me(oe),{variant:"outline-danger",size:"sm",onClick:b=>p(F)},{default:_(()=>[R(" 刪除 ")]),_:2},1032,["onClick"])]),_:2},1024),u(L,{class:"align-middle"},{default:_(()=>[R(q(F.name),1)]),_:2},1024),u(c,{class:"text-end align-middle"},{default:_(()=>{var b;return[R(q((b=F.twmIdList)==null?void 0:b.length),1)]}),_:2},1024),u(c,{class:"text-end align-middle"},{default:_(()=>[R(q(F.sentCount),1)]),_:2},1024),u(c,{class:"text-end align-middle"},{default:_(()=>[R(q(F.smsReadyTwmIdList.length),1)]),_:2},1024),u(c,{class:"text-center align-middle"},{default:_(()=>[W("div",Or,[u(me(oe),{variant:"outline-primary",size:"sm",onClick:b=>o(F,10)},{default:_(()=>[R("+10%")]),_:2},1032,["onClick"]),u(me(oe),{variant:"outline-primary",size:"sm",onClick:b=>o(F,100),class:"ms-1"},{default:_(()=>[R("All")]),_:2},1032,["onClick"])])]),_:2},1024),u(c,{class:"text-end align-middle"},{default:_(()=>[R(q(F.smsTwmIdList.length),1)]),_:2},1024),u(c,{class:"text-end align-middle"},{default:_(()=>[R(q(F.smsTwmIdListFilted.length),1)]),_:2},1024),u(c,{class:"text-end align-middle"},{default:_(()=>[R(q(F.smsPhoneNumberFilted.length),1)]),_:2},1024),u(c,{class:"text-center align-middle"},{default:_(()=>[u(s,{"sms-group":F},null,8,["sms-group"])]),_:2},1024)]),_:2},1024))),128))]),_:1}),u($,null,{default:_(()=>[u(D,null,{default:_(()=>[u(c),u(c,null,{default:_(()=>[R("共 "+q(me(e).smsGroupList.length)+" 群",1)]),_:1}),u(c,{class:"text-end"},{default:_(()=>[R(q(t.value),1)]),_:1}),u(c),u(c),u(c),u(c),u(c,{class:"text-end"},{default:_(()=>[R(q(n.value),1)]),_:1}),u(c,{class:"text-end"},{default:_(()=>[R(q(r.value),1)]),_:1}),u(c)]),_:1}),u(D,null,{default:_(()=>[u(c),u(c),u(c,{class:"text-center"},{default:_(()=>[W("div",$r,[u(me(oe),{variant:"outline-primary",size:"sm",onClick:T},{default:_(()=>[u(m),Mr]),_:1}),u(me(oe),{variant:"outline-primary",size:"sm",onClick:l,class:"mt-1"},{default:_(()=>[u(m),Dr]),_:1})])]),_:1}),u(c),u(c),u(c),u(c),u(c,{class:"text-center"},{default:_(()=>[W("div",Fr,[Mt((Y(),Me(me(oe),{variant:"outline-primary",size:"sm",onClick:k,disabled:n.value<=0},{default:_(()=>[u(m),Nr]),_:1},8,["disabled"])),[[G,`匯出 ${n.value-r.value} 筆沒有電話號碼的 SubID (DSC 用)`,void 0,{hover:!0,top:!0}]]),u(me(oe),{variant:"outline-primary",size:"sm",class:"mt-1",onClick:h,disabled:n.value<=0},{default:_(()=>[u(m),Pr]),_:1},8,["disabled"])])]),_:1}),u(c,{class:"text-center align-middle"},{default:_(()=>[u(me(oe),{variant:"outline-primary",size:"sm",onClick:f,disabled:n.value<=0},{default:_(()=>[u(m),Ur]),_:1},8,["disabled"])]),_:1}),u(c,{class:"text-center align-middle"},{default:_(()=>[u(y,{disabled:r.value<=0},null,8,["disabled"]),u(x,{class:"mt-1",disabled:r.value<=0},null,8,["disabled"])]),_:1})]),_:1}),u(D,null,{default:_(()=>[u(c),u(c),u(c),u(c),u(c),u(c),u(c),u(c,{colspan:"2",class:"text-center align-middle"},{default:_(()=>[u(me(oe),{variant:"outline-primary",size:"sm",class:"mt-1",onClick:P,disabled:n.value<=0},{default:_(()=>[u(m),Rr]),_:1},8,["disabled"])]),_:1}),u(c)]),_:1})]),_:1})]),_:1})])}}});const ca=we({__name:"TaGroupList",setup(a){const e=be(),t=Te(()=>e.groupList?e.groupList.sort((o,d)=>o.name.localeCompare(d.name)):[]),n=Te(()=>{if(!e.groupList)return 0;console.time("[TaGroupList] TotalSubIdCount");const o=new Set;for(let d=0;d<e.groupList.length;d++){const l=e.groupList[d].twmIdList;for(let h=0;h<l.length;h++){const f=l[h];o.add(f)}}return console.timeEnd("[TaGroupList] TotalSubIdCount"),o.size}),r=o=>{const d=e.groupList.findIndex(l=>l.name===o.name);d>=0&&e.groupList.splice(d,1);const p=new ht(o.name,o.twmIdList);e.smsGroupList.push(p),e.refreshFilted()};return(o,d)=>{const p=ot,l=lt,h=ut,f=dt,g=oe,w=ct,T=mt,k=ft;return Y(),Me(k,{hover:"",small:"",responsive:"",bordered:""},{default:_(()=>[u(h,{"head-variant":"dark"},{default:_(()=>[u(l,null,{default:_(()=>[u(p,{class:"text-center align-middle"},{default:_(()=>[R("分群")]),_:1}),u(p,{class:"text-center align-middle"},{default:_(()=>[R("數量")]),_:1}),u(p,{class:"text-center align-middle"},{default:_(()=>[R("加入發送")]),_:1})]),_:1})]),_:1}),u(w,null,{default:_(()=>[(Y(!0),te(Je,null,Ke(t.value,C=>(Y(),Me(l,{key:C.name},{default:_(()=>[u(p,{class:"align-middle"},{default:_(()=>[R(q(C.name),1)]),_:2},1024),u(f,{class:"text-end align-middle"},{default:_(()=>[R(q(C.twmIdSet.size),1)]),_:2},1024),u(p,{class:"text-center"},{default:_(()=>[u(g,{variant:"outline-primary",size:"sm",onClick:P=>r(C)},{default:_(()=>[R("加入")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1}),u(T,null,{default:_(()=>[u(l,null,{default:_(()=>[u(f,null,{default:_(()=>[R("共 "+q(t.value.length)+" 群",1)]),_:1}),u(f,{class:"text-end"},{default:_(()=>[R(q(n.value),1)]),_:1}),u(f)]),_:1})]),_:1})]),_:1})}}}),Wr={class:"icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Gr=W("path",{fill:"currentColor",d:"M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z"},null,-1),Br=[Gr];function Ar(a,e){return Y(),te("svg",Wr,Br)}const yt={name:"mdi-close",render:Ar},Yr={class:"sms-file-wrapper"},zr=W("label",{for:"sms-file"},"門已發送簡訊 (多選)",-1),qr={class:"d-flex mt-2 align-items-center w-100"},Vr={key:0,class:"hint"},ma=we({__name:"ImportSmsSent",setup(a){const e=be(),t=K([]),n=K(0),r=K(0),o=K(0);ke(t,()=>{n.value=t.value.length,t.value.forEach(h=>p(h))}),ke(n,(h,f)=>{h===0&&f>0&&e.refreshFilted()});const d=Te(()=>n.value>0),p=h=>{const f=new FileReader;f.onload=function(g){var P;const w=(P=g.target)==null?void 0:P.result,T=w==null?void 0:w.split(`
`),k=e.phoneNumberSentSet.size;o.value+=T.length,T.forEach(v=>{e.phoneNumberSentSet.add(v.split("	")[0])});const C=e.phoneNumberSentSet.size;console.log(`[SmsFile] load ${C-k} Sent Phone Numbers, Total: ${e.phoneNumberSentSet.size}`),n.value--,r.value++},f.readAsText(h)},l=()=>{t.value=[],r.value=0,o.value=0,e.phoneNumberSentSet.clear(),e.refreshFilted()};return(h,f)=>{const g=Ye,w=yt,T=oe,k=pt;return Y(),te("div",Yr,[zr,W("div",qr,[u(g,{modelValue:t.value,"onUpdate:modelValue":f[0]||(f[0]=C=>t.value=C),id:"sms-file",accept:"text/plain",multiple:""},null,8,["modelValue"]),o.value>0&&!d.value?(Y(),Me(T,{key:0,variant:"outline-primary",size:"sm",class:"remove ms-1",onClick:l},{default:_(()=>[u(w)]),_:1})):$e("",!0),d.value?(Y(),Me(k,{key:1,variant:"primary",class:"ms-1"})):$e("",!0)]),r.value>0?(Y(),te("small",Vr," 已讀取 "+q(r.value)+" 檔案, "+q(o.value)+" 筆記錄, 重複 "+q(o.value-me(e).phoneNumberSentSet.size)+" 門號 ",1)):$e("",!0)])}}});const Hr={class:"import-dsc-wrapper"},jr=W("label",{for:"dsc-file"},"門號 (DSC 轉出 csv)",-1),Qr={class:"d-flex mt-2 align-items-center w-100"},Xr={key:0,class:"hint"},fa=we({__name:"ImportDSC",setup(a){const e=be(),t=K([]),n=K(0),r=K(0),o=K(0);ke(t,()=>{n.value=t.value.length,t.value.forEach(h=>p(h))}),ke(n,(h,f)=>{h===0&&f>0&&e.refreshFilted()});const d=Te(()=>n.value>0),p=h=>{Pe.parse(h,{header:!0,skipEmptyLines:!0,encoding:"big5",transformHeader:(f,g)=>(console.log(`Header: ${g}`,f),f==="門號"?"phoneNumber":f==="SUBSCR_ID"?"subId":f),complete:f=>{if(f.errors.length>0){alert("Parse Error");return}o.value+=f.data.length,f.data.forEach(g=>{const w=e.subIdUserMap.get(g.subId);w&&(w.phoneNumber=g.phoneNumber,e.phoneNumberUserMap.set(g.phoneNumber,w))}),console.log(`[PhoneNumberFile] read ${f.data.length} subid <> phone number`),n.value--,r.value++}})},l=()=>{t.value=[],r.value=0,o.value=0,e.phoneNumberUserMap.clear(),e.refreshFilted()};return(h,f)=>{const g=Ye,w=yt,T=oe,k=pt;return Y(),te("div",Hr,[jr,W("div",Qr,[u(g,{modelValue:t.value,"onUpdate:modelValue":f[0]||(f[0]=C=>t.value=C),id:"dsc-file",accept:"text/csv",multiple:""},null,8,["modelValue"]),o.value>0&&!d.value?(Y(),Me(T,{key:0,variant:"outline-primary",size:"sm",class:"remove ms-1",onClick:l},{default:_(()=>[u(w)]),_:1})):$e("",!0),d.value?(Y(),Me(k,{key:1,variant:"primary",class:"ms-1"})):$e("",!0)]),r.value?(Y(),te("small",Xr,"已讀取 "+q(r.value)+" 檔案, "+q(o.value)+" 筆記錄",1)):$e("",!0)])}}});const Jr={class:"ta-file-wrapper"},Kr={key:0,class:"hint"},ha=we({__name:"ImportTa",setup(a){const e=be(),t=K([]),n=K(0),r=K(0);ke(t,()=>{r.value=0,e.userArgs=[],t.value.forEach(p=>o(p))});const o=p=>{Pe.parse(p,{header:!0,skipEmptyLines:!0,transformHeader:(l,h)=>(console.log(`Header: ${h}`,l),l==="特定用戶名單(TAMI專用)"?"groupName":l==="Subscr Id"?"subId":l==="台灣大會員編號"?"twmId":(l.startsWith('"')||e.userArgs.push(l),l)),complete:l=>{if(l.errors.length>0){alert("Parse Error");return}console.log(`[TaFile] add ${l.data.length} Users begin`),r.value+=l.data.length;for(let h=0;h<l.data.length;h++){const f=l.data[h],g={};for(let w=0;w<e.userArgs.length;w++){const T=e.userArgs[w];g[T]=f[T]}e.addUser(f.twmId,f.subId,void 0,g)}console.log(`[TaFile] add ${l.data.length} Users Complete`),e.groupList=d(l.data),n.value+=e.groupList.length,console.log(`[TaFile] complete ${e.groupList.length} TaGroup`)}})},d=p=>{const l=new Map;return p.forEach(h=>{let f;l.has(h.groupName)?f=l.get(h.groupName):(f=new Ze(h.groupName),l.set(h.groupName,f)),f==null||f.addTwmId(h.twmId)}),Array.from(l.values())};return(p,l)=>{const h=Ye;return Y(),te("div",Jr,[u(h,{modelValue:t.value,"onUpdate:modelValue":l[0]||(l[0]=f=>t.value=f),label:"受眾 (BOE 匯出 csv)",accept:"text/csv",multiple:""},null,8,["modelValue"]),r.value>0?(Y(),te("small",Kr," 載入 "+q(n.value)+" 群, "+q(r.value)+" 筆記錄, "+q(me(e).userArgs.length)+" 參數 ",1)):$e("",!0)])}}});const Zr={class:"icon",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},ea=W("path",{fill:"currentColor",d:"m23 12l-4-4v3h-9v2h9v3M1 18V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v3h-2V6H3v12h12v-3h2v3a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2Z"},null,-1),ta=[ea];function na(a,e){return Y(),te("svg",Zr,ta)}const ra={name:"mdi-export",render:na},aa={class:"campaign-config-wrapper"},sa=W("span",null,"匯出設定檔",-1),ia=W("span",null,"匯入設定檔",-1),pa=we({__name:"CampaignConfigFile",setup(a){const e=be(),t=K(),n=K(null);ke(t,()=>{t.value&&r(t.value)});const r=p=>{const l=new FileReader;l.onload=function(h){var k;const f=(k=h.target)==null?void 0:k.result,g=JSON.parse(f);e.campaignName=g.name;const w=new Map;g.groupList.forEach(C=>w.set(C.name,C)),e.groupList.length=0,g.taGroupNameList.forEach(C=>{const P=w.get(C);P&&e.groupList.push(new Ze(P.name,P.twmIdList))}),e.smsGroupList.length=0,g.smsGroupNameList.forEach(C=>{const P=w.get(C);if(P){const v=new ht(P.name,P.twmIdList);v.smsTwmIdList=P.smsTwmIdList.slice(0),e.smsGroupList.push(v)}}),g.userInfoList.slice(0).forEach(C=>{C.subId&&C.subId.length>0&&e.subIdUserMap.set(C.subId,C),C.twmId&&C.twmId.length>0&&e.twmIdUserMap.set(C.twmId,C)}),e.refreshFilted()},l.readAsText(p)},o=async()=>{var p;[p]=await window.showOpenFilePicker({multiple:!0,types:[{description:"Images",accept:{"image/*":[".png",".gif",".jpeg",".jpg"]}}]}),console.log(p);const l=await p.getFile();console.log(l);const h=await l.text();console.log(h)},d=()=>{e.sms("HI",["0932087196"])};return(p,l)=>{const h=ra,f=oe,g=bt,w=Ye;return Y(),te("div",aa,[u(f,{variant:"outline-primary",size:"sm",onClick:d,class:"ms-1"},{default:_(()=>[u(h),sa]),_:1}),u(f,{variant:"outline-primary",size:"sm",onClick:o,class:"ms-1"},{default:_(()=>[u(g),ia]),_:1}),u(w,{ref_key:"configFileRef",ref:n,id:"import-campaign-config",modelValue:t.value,"onUpdate:modelValue":l[0]||(l[0]=T=>t.value=T),accept:"application/json"},null,8,["modelValue"])])}}});const oa={class:"title-wrapper"},la=W("label",{for:"compaign-name"},"活動名稱",-1),_a=we({__name:"CampaignName",setup(a){const e=be(),t=K("");return Ft(()=>{const n=localStorage.getItem("campaign-name");n&&(t.value=n)}),ke(t,n=>{localStorage.setItem("campaign-name",n),e.campaignName=n}),(n,r)=>{const o=Nt;return Y(),te("div",oa,[la,u(o,{modelValue:t.value,"onUpdate:modelValue":r[0]||(r[0]=d=>t.value=d),type:"text",id:"compaign-name",class:"ms-2"},null,8,["modelValue"])])}}});export{_a as _,pa as a,ha as b,fa as c,ma as d,ca as e,da as f,bt as g};
